//CShow class
//This class will handle everything related to a show
//A show contains seats and has guests

//Author: Ahmed El-Naggar
//aelna0@eq.edu.au
//Teacher: Mr. Biggs

// THIS CLASS REQUIRES A TFrame

unit CShow;

interface

uses CSeat, 
     CGuest,
     System.Generics.Collections, // TObjectList
     Vcl.Forms;
  

type
  TShow = class

  private
    id        : Integer;
    seats     : TObjectList<CSeat.TSeat>;  // Seats, instances of CSeat
    seat      : CSeat.TSeat;
    num_seats : Integer; //Number of seats in the show
    guests    : TObjectList<CGuest.TGuest>; // Guests, instances of Guests

    name      : String; // Name of the show
    frame     : TFrame;

  published

    constructor create(frame : TFrame; name : String);

    function add_guest(guest   : CGuest.TGuest)              : Boolean;
    function add_guests(guests : TObjectList<CGuest.TGuest>) : Boolean;
    function add_seat(seat   : CSeat.TSeat)                  : Boolean;
    function add_seats(seats : TObjectList<CSeat.TSeat>)     : Boolean;

    function render()                                        : Boolean;

end;

implementation

constructor TShow.create(name : String);
begin
  self.name := name;

  self.seats  := TObjectList<CSeat.TSeat>.Create();
  self.guests := TObjectList<CGuest.TGuest>.Create();
end;

function TShow.add_guest(guest : CGuest.TGuest) : Boolean;
begin

  //Assign the user his/her seat
  //Make sure that seats are made first

  self.guests.Add(guest);

  guest.set_seat(self.seats[guest.get_seat()]);

  Result := true;
end;
function TShow.add_guests(guests : TObjectList<CGuest.TGuest>) : Boolean;
begin

  Result := true;
end;

function TShow.add_seat(seat : CSeat.TSeat) : Boolean;
begin
  
  self.seats.Add(seat);
  Result := true;
end;

//Adds seats to show
//Parameters:
// seats (array of TSeat instances)
function TShow.add_seats(seats : TObjectList<CSeat.TSeat>) : Boolean;
begin
  
end;

//Parameters: 
//  frame (TFrame1) : The frame to render the seats to
function TShow.render(frame : TFrame) : Boolean;
begin



  //Create TShape in a square for every seat
  //If seat is occupied, make it red, else white

end;

end.
